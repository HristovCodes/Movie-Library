(this.webpackJsonpmovielibraryapp=this.webpackJsonpmovielibraryapp||[]).push([[0],{48:function(e,n,t){},49:function(e,n,t){},50:function(e,n,t){},53:function(e,n,t){},61:function(e,n,t){},63:function(e,n,t){},64:function(e,n,t){},66:function(e,n,t){},67:function(e,n,t){},68:function(e,n,t){},69:function(e,n,t){"use strict";t.r(n);var c=t(6),o=t.n(c),r=t(32),a=t.n(r),i=(t(48),t(49),t(50),t(7));function s(){return Object(i.jsx)("section",{className:"Hero",children:Object(i.jsxs)("h1",{children:["My ",Object(i.jsx)("span",{children:"Movie"})," Collection"]})})}var u=t(11),l=t(0),d=t.n(l),j=t(2),b=t(14);t(53);function v(e){var n=e.setMovies,t=Object(c.useState)(""),o=Object(b.a)(t,2),r=o[0],a=o[1],s=Object(u.f)(),l=function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://api.tvmaze.com/search/shows?q=".concat(r));case 3:return c=e.sent,e.t0=n,e.next=7,c.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1),s.replace("/search/".concat(r));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(i.jsxs)("form",{className:"SearchForm","aria-label":"form",onSubmit:l,children:[Object(i.jsx)("input",{onChange:function(e){return a(e.target.value)},className:"search",placeholder:"Search by movie title...",type:"search"}),Object(i.jsx)("button",{className:"btnsubmit",type:"submit",children:"Search"})]})}var h=t(34),f=t(42),O=Object(f.a)({apiKey:"AIzaSyCZZ4c-gmeJEh9VE7M9loiUsHrL5eDp24A",authDomain:"movie-library-e5012.firebaseapp.com",databaseURL:"https://movie-library-e5012-default-rtdb.firebaseio.com",projectId:"movie-library-e5012",storageBucket:"movie-library-e5012.appspot.com",messagingSenderId:"987123764512",appId:"1:987123764512:web:b7bacf3e0eb2f85fce5b45"}),p=Object(h.b)(O);p.useDeviceLanguage();var m=new h.a;m.addScope("https://www.googleapis.com/auth/contacts.readonly");var x=h.c,g=t(25),y=(t(61),t(30)),w=function(){return Object(y.b)()},M=y.c;function N(){var e=M((function(e){return e})),n=w(),t=function(e){n({type:"UPDATE_USER",payload:e})};return e.authUser.displayName?Object(i.jsx)("p",{onClick:function(){return Object(g.d)(p).then((function(){return t({})}))},className:"UserName",children:e.authUser.displayName}):Object(i.jsx)("button",{type:"button",onClick:function(){x(p,m).then((function(e){var n=g.a.credentialFromResult(e),c=(null===n||void 0===n||n.accessToken,e.user);t(c)})).catch((function(e){var n=e.code,t=e.message,c=e.email,o=g.a.credentialFromError(e);console.log(n),console.log(t),console.log(c),console.log(o)}))},className:"SignIn",children:"Sign In"})}t(63);function U(e){var n=e.setMovies,t=Object(u.f)();return Object(i.jsxs)("nav",{className:"Nav",children:[Object(i.jsx)("h2",{onClick:function(){return t.replace("/")},children:"My Movie Collection"}),Object(i.jsx)(v,{setMovies:n}),Object(i.jsx)(N,{})]})}t(64);var C=t.p+"static/media/placeholder.427cf3bd.png",S=t(19),k=Object(S.b)(O);function E(e,n){Object(S.g)(Object(S.e)(k,"".concat(e,"/")),n).catch((function(e){return console.log("".concat(e.code,"\n").concat(e.message))}))}function I(e){return T.apply(this,arguments)}function T(){return(T=Object(j.a)(d.a.mark((function e(n){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.a)(Object(S.d)(Object(S.e)(k,"".concat(n,"/"))));case 2:if(!(t=e.sent).exists()){e.next=6;break}return c=t.val(),e.abrupt("return",c);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t(66);function D(e){var n,t,c=e.score,o=e.show,r=M((function(e){return e})),a=Object(u.f)(),s=function(e,n){var t,c;e.stopPropagation(),c="user/".concat(r.authUser.uid,"/").concat(null===(t=n.show)||void 0===t?void 0:t.name),Object(S.f)(Object(S.e)(k,"".concat(c,"/"))).catch((function(e){return console.log("".concat(e.code,"\n").concat(e.message))}))},l=w();return Object(i.jsxs)("div",{onClick:function(){l({type:"UPDATE_MOVIES",payload:[{score:c,show:o}]}),a.replace("/Movie-Library/MovieInfo/".concat(null===o||void 0===o?void 0:o.name))},className:"Card",children:[Object(i.jsx)("img",{alt:null===o||void 0===o?void 0:o.name,src:(null===o||void 0===o||null===(n=o.image)||void 0===n?void 0:n.original)?null===o||void 0===o||null===(t=o.image)||void 0===t?void 0:t.original:C}),Object(i.jsx)("h3",{className:"Name",children:null===o||void 0===o?void 0:o.name}),Object(i.jsxs)("p",{children:["Category: ",Object(i.jsx)("span",{children:null===o||void 0===o?void 0:o.type})]}),Object(i.jsx)("a",{className:"Original",rel:"noreferrer",target:"_blank",href:null===o||void 0===o?void 0:o.url,onClick:function(e){return e.stopPropagation()},children:"Visit on TVMaze"}),Object(i.jsxs)("div",{className:"Overlay",children:[Object(i.jsx)("button",{onClick:function(e){return function(e,n){var t;e.stopPropagation(),E("user/".concat(r.authUser.uid,"/").concat(null===(t=n.show)||void 0===t?void 0:t.name),n)}(e,{score:c,show:o})},type:"button",children:Object(i.jsx)("span",{children:"\u2606"})}),Object(i.jsx)("button",{onClick:function(e){return s(e,{score:c,show:o})},type:"button",children:Object(i.jsx)("span",{children:"\u2296"})})]})]},null===o||void 0===o?void 0:o.id)}function L(e){var n=e.movies;return Object(i.jsxs)("section",{className:"Results",children:[Object(i.jsx)("h1",{className:"Heading",children:"Results:"}),n.map((function(e){return Object(i.jsx)(D,{score:e.score,show:e.show},e.show.id)}))]})}t(67);function P(){var e,n,t,o,r,a,s,u,l=M((function(e){return e})),d=Object(c.useState)(""),j=Object(b.a)(d,2),v=j[0],h=j[1],f=Object(c.useState)(""),O=Object(b.a)(f,2),p=O[0],m=O[1],x=M((function(e){return e.movies})),g=function(){var e;l.authUser.uid&&x[0]&&E("notes/".concat(l.authUser.uid,"/").concat(null===(e=x[0].show)||void 0===e?void 0:e.name,"/rating/"),{stars:v})};return Object(c.useEffect)((function(){var e;""===v&&x[0]&&l.authUser.uid&&I("notes/".concat(l.authUser.uid,"/").concat(null===(e=x[0].show)||void 0===e?void 0:e.name,"/rating/")).then((function(e){h(e.stars),m(e.review)}))})),x.length?Object(i.jsx)("div",{className:"MovieInfo",children:Object(i.jsxs)("article",{className:"Grid",children:[Object(i.jsx)("img",{alt:null===(e=x[0].show)||void 0===e?void 0:e.name,src:null===(n=x[0].show)||void 0===n||null===(t=n.image)||void 0===t?void 0:t.original}),Object(i.jsx)("h1",{className:"Heading",children:null===(o=x[0].show)||void 0===o?void 0:o.name}),Object(i.jsxs)("p",{className:"Genres",children:["Category: ",Object(i.jsx)("span",{children:null===(r=x[0].show)||void 0===r?void 0:r.type})]}),Object(i.jsx)("article",{dangerouslySetInnerHTML:{__html:"".concat((null===(a=x[0].show)||void 0===a?void 0:a.summary)?null===(s=x[0].show)||void 0===s?void 0:s.summary:"<p>No description avaliable.</p>")}}),Object(i.jsx)("a",{rel:"noreferrer",target:"_blank",href:null===(u=x[0].show)||void 0===u?void 0:u.url,children:"Visit on TVMaze"}),Object(i.jsxs)("div",{className:"Review",children:[Object(i.jsxs)("div",{className:"StarRatings ".concat(v),children:[Object(i.jsx)("span",{onClick:function(){return g()},onMouseOver:function(){return h("one")},children:"\u2605"}),Object(i.jsx)("span",{onClick:function(){return g()},onMouseOver:function(){return h("two")},children:"\u2605"}),Object(i.jsx)("span",{onClick:function(){return g()},onMouseOver:function(){return h("three")},children:"\u2605"}),Object(i.jsx)("span",{onClick:function(){return g()},onMouseOver:function(){return h("four")},children:"\u2605"}),Object(i.jsx)("span",{onClick:function(){return g()},onMouseOver:function(){return h("five")},children:"\u2605"})]}),Object(i.jsx)("textarea",{placeholder:p,onChange:function(e){return m(e.target.value)}}),Object(i.jsx)("button",{value:p,onClick:function(){g(),function(){var e;l.authUser.uid&&x[0]&&E("notes/".concat(l.authUser.uid,"/").concat(null===(e=x[0].show)||void 0===e?void 0:e.name,"/rating/"),{review:p})}()},type:"button",children:"Save note"})]})]})}):Object(i.jsx)("div",{})}t(68);function F(){var e=M((function(e){return e})),n=Object(c.useState)(),t=Object(b.a)(n,2),o=t[0],r=t[1];return Object(S.c)(Object(S.d)(Object(S.e)(k,"user/".concat(e.authUser.uid,"/"))),(function(e){if(e.exists()){var n=null===o||void 0===o?void 0:o.filter((function(n){var t;return(null===(t=n.show)||void 0===t?void 0:t.id)!==e.val().show.id}));n!==o&&r(n)}})),Object(c.useEffect)((function(){!o&&e.authUser.uid&&I("user/".concat(e.authUser.uid,"/")).then((function(e){r(Object.values(e))}))})),Object(i.jsxs)("section",{className:"Favourites",children:[Object(i.jsx)("h1",{className:"Heading",children:"Your Favourite Movies:"}),null===o||void 0===o?void 0:o.map((function(e){return Object(i.jsx)(D,{score:e.score,show:e.show},e.show.id)}))]})}var _=t(33);var A=function(){var e=M((function(e){return e})),n=w();return Object(i.jsxs)(_.a,{children:[Object(i.jsx)(U,{setMovies:function(e){n({type:"UPDATE_MOVIES",payload:e})}}),Object(i.jsx)("div",{className:"App",children:Object(i.jsxs)(u.c,{children:[Object(i.jsxs)(u.a,{exact:!0,path:"/Movie-Library/",children:[Object(i.jsx)(s,{}),Object(i.jsx)(F,{})]}),Object(i.jsx)(u.a,{path:"/Movie-Library/Search/",children:Object(i.jsx)(L,{movies:e.movies})}),Object(i.jsx)(u.a,{path:"/Movie-Library/MovieInfo/",children:Object(i.jsx)(P,{})})]})})]})},R=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,72)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,r=n.getLCP,a=n.getTTFB;t(e),c(e),o(e),r(e),a(e)}))},V=t(71),H=t(31),z={movies:[],authUser:{}},B=Object(V.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPDATE_MOVIES":return Object(H.a)(Object(H.a)({},e),{},{movies:n.payload});case"UPDATE_USER":return Object(H.a)(Object(H.a)({},e),{},{authUser:n.payload});default:return e}}));a.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(y.a,{store:B,children:Object(i.jsx)(A,{})})}),document.getElementById("root")),R()}},[[69,1,2]]]);
//# sourceMappingURL=main.01b85e5c.chunk.js.map